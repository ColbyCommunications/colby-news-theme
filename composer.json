{
    "name": "newcity/colby-news",
    "description": "Test environment for WordPress themes and plugins",
    "repositories": [
        {
            "type": "composer",
            "url": "https://wpackagist.org"
        }
    ],
    "require": {
        "php": "^7.4",
        "ahebrank/wp-frontback": "dev-master",
        "johnpbloch/wordpress-core-installer": "^2.0",
        "johnpbloch/wordpress": "^5.8",
        "newcity/newcity-wp-wysiwyg": "^0.2.4",
        "pristas-peter/wp-graphql-gutenberg": "^0.3.4",
        "wpackagist-plugin/accordion-blocks": "^1.3",
        "wpackagist-plugin/acf-autosize": "^2.0",
        "wpackagist-plugin/acf-extended": "0.8.8.4",
        "wpackagist-plugin/admin-bar-in-fullscreen-mode": "^1.0",
        "wpackagist-plugin/cache-control": "^2.2.3",
        "wpackagist-plugin/capability-manager-enhanced": "^2.0",
        "wpackagist-plugin/classic-editor": "^1.4",
        "wpackagist-plugin/cloudflare": "^4.5.1",
        "wpackagist-plugin/disable-comments": "^2.1",
        "wpackagist-plugin/duplicate-post": "^4.1.2",
        "wpackagist-plugin/elementor": "^3.1.4",
        "wpackagist-plugin/gallery-block-lightbox": "^1.8",
        "wpackagist-plugin/header-footer": "^3.1.3",
        "wpackagist-plugin/public-post-preview": "^2.9.1",
        "wpackagist-plugin/query-monitor": "^3.7",
        "wpackagist-plugin/regenerate-thumbnails": "^3.1",
        "wpackagist-plugin/siteimprove": "^1.2.0",
        "wpackagist-plugin/svg-support": "^2.3",
        "wpackagist-plugin/tablepress": "^1.10",
        "wpackagist-plugin/wordpress-seo": "^16.9",
        "wpackagist-plugin/wp-cfm": "^1.7",
        "wpackagist-plugin/wp-graphql": "^1.6.2",
        "wpackagist-plugin/wp-nested-pages": "^3.1",
        "wpackagist-plugin/wp-saml-auth": "^1.1.0"
    },
    "extra": {
        "wordpress-install-dir": "wordpress",
        "installer-paths": {
            "wp-content/mu-plugins/{$name}": [
                "type:wordpress-muplugin",
                "wpackagist-plugin/wordpress-seo"
            ],
            "wp-content/plugins/{$name}": [
                "type:wordpress-plugin"
            ],
            "wp-content/themes/{$name}": [
                "type:wordpress-theme"
            ]
        }
    },
    "scripts": {
        "post-install-cmd": [
            "rm -rf wp-content/plugins/ahebrank/.git",
            "./.scripts/symlink.sh /app/wp-content/mu-plugins/wordpress-seo/wp-seo.php /app/wp-content/mu-plugins/wp-seo.php"
        ],
        "wp-config": ["cp wp-setup/wp-config.php wordpress/wp-config.php"],
        "wp-setup": [
            "cp wordpress/index.php ./index.php",
            "rm -rf wordpress/wp-content",
            "cp wp-setup/wp-config.php wordpress/wp-config.php",
            "sed -i 's/\\/wp-blog-header/\\/wordpress\\/wp-blog-header/g' ./index.php",
            "mkdir -p /var/www/.wp-cli",
            "test -f /var/www/.wp-cli/config.yml || ln -s /app/wp-cli.yml /var/www/.wp-cli/config.yml",
            "composer run platform-install"
        ],
        "platform-install": [
            "cd /tmp && curl -sS https://platform.sh/cli/installer -o platform-installer.php && php platform-installer.php || echo ''"
        ],
        "phpcs": [
            "./vendor/bin/phpcs -p ./wp-content/themes/colby-news-theme/ --extensions=php"
        ],
        "phpcs-prod": [
            "./vendor/bin/phpcs -p ./wp-content/themes/colby-news-theme/ --extensions=php --warning-severity=8 --report=junit --report-file=php-codesniffer-results.xml"
        ],
        "phpcbf-prod": [
            "./vendor/bin/phpcbf -p ./wp-content/themes/colby-news-theme/ --extensions=php --warning-severity=8"
        ]
    },
    "require-dev": {
        "squizlabs/php_codesniffer": "*",
        "wp-coding-standards/wpcs": "^2.3",
        "dealerdirect/phpcodesniffer-composer-installer": "^0.7.0",
        "wpackagist-plugin/theme-check": "*",
        "wpackagist-plugin/log-deprecated-notices": "^0.4.1"
    }
}

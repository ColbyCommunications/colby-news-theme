{
    "name": "newcity/wordpress-testing",
    "description": "Test environment for WordPress themes and plugins",
    "repositories": [
        {
            "type": "composer",
            "url": "https://wpackagist.org"
        }
    ],
    "extra": {
        "wordpress-install-dir": "wordpress"
    },
    "scripts": {
        "wp-setup": [
            "cp wordpress/index.php ./index.php",
            "rm -rf wordpress/wp-content",
            "cp wp-setup/wp-config.php wordpress/wp-config.php",
            "sed -i 's/\\/wp-blog-header/\\/wordpress\\/wp-blog-header/g' ./index.php",
            "mkdir -p /var/www/.wp-cli",
            "rm /var/www/.wp-cli/config.yml",
            "ln -s /app/wp-cli.yml /var/www/.wp-cli/config.yml"
        ],
        "phpcs": [
            "./vendor/bin/phpcs -p ./wp-content/themes/colby-news-theme/ --extensions=php"
        ],
        "phpcs-prod": [
            "./vendor/bin/phpcs -p ./wp-content/themes/colby-news-theme/ --extensions=php --warning-severity=8 --report=junit --report-file=php-codesniffer-results.xml"
        ],
        "phpcbf-prod": [
            "./vendor/bin/phpcbf -p ./wp-content/themes/colby-news-theme/ --extensions=php --warning-severity=8 -q || true",
            "composer run-script phpcs-prod"
        ]
    },
    "require-dev": {
        "squizlabs/php_codesniffer": "*",
        "wp-coding-standards/wpcs": "^2.3",
        "dealerdirect/phpcodesniffer-composer-installer": "^0.7.0"
    }
}
